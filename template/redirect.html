<div class="container mb-2">
    <div class="row py-2 border-bottom">
        <div class="col-2 col-lg">FROM</div>
        <div class="col">TO</div>
        <div class="col-2">HTTPS</div>
        <div class="col-2">SAME DOMAIN</div>
    </div>
    <?php foreach($this->vars->red_list as $key => $value) { ?>
    <?php   if (count($value->getRedirects()) > 0) { ?>
    <?php       if ($value->isAbroad() || !$value->hasHTTPS()) { ?>
            <div class="row py-2 border-bottom bg-danger-subtle position-relative">
    <?php       } else { ?>
            <div class="row py-2 border-bottom position-relative">
    <?php       } ?>
                <div class="col-lg"><?php echo $value->getRedirects()[0]->getFrom(); ?></div>
                <div class="col"><?php echo $value->getLastRedirect()->getRedirectedTo() ?></div>
                    <?php if ($value->hasHTTPS()) { ?>
                        <div class="col-2"><span class="badge bg-success">YES</span></div>
                    <?php } else { ?>
                        <div class="col-2"><span class="badge bg-danger">NO</span></div>
                    <?php } ?>
                    <?php if (!$value->isAbroad()) { ?>
                        <div class="col-2"><span class="badge bg-success">YES</span></div>
                    <?php } else { ?>
                        <div class="col-2"><span class="badge bg-danger">NO</span></div>
                    <?php } ?>
                        <a href="#<?php echo $key; ?>" class="stretched-link" 
                            data-bs-toggle="collapse" role="button" 
                            aria-expanded="false" 
                            aria-controls="<?php echo $key; ?>">
                        </a>
            </div>
            <?php foreach($value->getRedirects() as $kvalue) { ?>
                <div class="collapse bg-secondary" id="<?php echo $key; ?>">
                    <div class="row p-2">
                        <div class="col-lg"><?php echo $kvalue->getFrom(); ?></div>
                        <div class="col"><?php echo $kvalue->getRedirectedTo(); ?></div>
                        <?php if ($kvalue->hasHTTPS()) { ?>
                            <div class="col-2"><span class="badge bg-success">YES</span></div>
                        <?php } else { ?>
                            <div class="col-2"><span class="badge bg-danger">NO</span></div>
                        <?php } ?>
                        <?php if (!$kvalue->isAbroad()) { ?>
                            <div class="col-2"><span class="badge bg-success">YES</span></div>
                        <?php } else { ?>
                            <div class="col-2"><span class="badge bg-danger">NO</span></div>
                        <?php } ?>
                    </div>
                </div>
            <?php } ?>
    <?php   } else { ?>
            <div class="row py-2 border-bottom bg-danger-subtle">
                <div class="col">http://<?php echo $value->getDomain()->getDomainName() . $value->getPath(); ?></div>
                <div class="col">NOT FOUND</div>
            </div>
        <?php } ?>
    <?php } ?>
</div>
